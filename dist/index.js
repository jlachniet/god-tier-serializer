/*! god-tier-serializer 0.2.0 | MIT License | https://github.com/jlachniet/god-tier-serializer */
!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.GodTierSerializer=r():e.GodTierSerializer=r()}(this,(function(){return function(){"use strict";var e={d:function(r,t){for(var o in t)e.o(t,o)&&!e.o(r,o)&&Object.defineProperty(r,o,{enumerable:!0,get:t[o]})},o:function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},r={};function t(e,r){for(var t=0;t<e.length;t++)if(r(e[t],t,e))return e[t]}function o(e,r){for(var t=0;t<e.length;t++)if((o=e[t])===(n=r)?0!==o||1/o==1/n:o!=o&&n!=n)return t;var o,n;return-1}function n(e){return null===e?"null":typeof e}e.r(r),e.d(r,{config:function(){return a},deserialize:function(){return s},register:function(){return c},serialize:function(){return p}});var a={forceSerialization:!1,inferPrototypeNames:!1},i=[[null,"null"],[Object.prototype,"Object"],[Array.prototype,"Array"],[Date.prototype,"Date"],[RegExp.prototype,"RegExp"],[Boolean.prototype,"Boolean"],[String.prototype,"String"]];function u(e){return t(i,(function(r){return e===r[1]}))}function c(e,r){if(!function(e,r){for(var t=0;t<e.length;t++)if(Array.isArray(r[t])){for(var o=!1,a=0;a<r[t].length;a++)n(e[t])===r[t][a]&&(o=!0);if(!o)return!1}else if(n(e[t])!==r[t])return!1;return!0}([e,r],["object",["string","undefined"]]))throw new TypeError("Invalid arguments, expected (prototype: object, name?: string)");if(!r){if(!Object.prototype.hasOwnProperty.call(e,"constructor")||!Object.prototype.hasOwnProperty.call(e.constructor,"name"))throw new Error("Prototype name not provided and could not be inferred");r=e.constructor.name,a.inferPrototypeNames||(console.warn("Prototype name not provided explicitly, falling back to "+r),console.warn("This may cause compatibility problems!"))}var o="@"+r;if(function(e){return t(i,(function(r){return e===r[0]}))}(e))throw new Error("Cannot register, prototype "+r+"is already registered");if(u(o))throw new Error("Cannot register, prototype name "+r+" is already in use");i.push([e,o])}function p(e){var r=[],u=[];return c(e),JSON.stringify(u);function c(e){switch(n(e)){case"undefined":return r.push(void 0),u.push(["undefined"]),r.length-1;case"null":return r.push(void 0),u.push(["null"]),r.length-1;case"bigint":return l=e,r.push(l),u.push(["bigint",String(l)]),r.length-1;case"boolean":return s=e,r.push(s),u.push(["boolean",s]),r.length-1;case"number":return function(e){r.push(e),1/e==-1/0?u.push(["number","-0"]):u.push(["number",String(e)]);return r.length-1}(e);case"string":return p=e,r.push(p),u.push(["string",p]),r.length-1;case"object":return function(e){var n,p=t(i,(function(r){return r[0]===Object.getPrototypeOf(e)}));if(!p&&!a.forceSerialization)throw Object.prototype.hasOwnProperty.call(Object.getPrototypeOf(e),"constructor")&&Object.prototype.hasOwnProperty.call(Object.getPrototypeOf(e).constructor,"name")?new Error("Could not serialize object with unregistered prototype "+Object.getPrototypeOf(e).constructor.name+".prototype"):new Error("Could not serialize object with unregistered prototype");if(p)switch(Object.prototype.toString.call(e).slice(8,-1)){case"Array":n=["Array",p[1],[]];break;case"Date":n=["Date",p[1],[],Date.prototype.valueOf.call(e)];break;case"RegExp":n=["RegExp",p[1],[],RegExp.prototype.toString.call(e)];break;case"Boolean":n=["Boolean",p[1],[],Boolean.prototype.valueOf.call(e)];break;case"String":n=["String",p[1],[],String.prototype.valueOf.call(e)];break;default:n=["Object",p[1],[]]}else n=["Object","Object",[]];r.push(e),u.push(n);var s=r.length-1;return Object.getOwnPropertyNames(e).forEach((function(t){var a=Object.getOwnPropertyDescriptor(e,t);if(a.get)throw new TypeError("Getters are not supported yet");if(a.set)throw new TypeError("Setters are not supported yet");n[2].push([o(r,t)>-1?o(r,t):c(t),o(r,a.value)>-1?o(r,a.value):c(a.value),a.configurable,a.enumerable,a.writable])})),s}(e);case"symbol":throw new TypeError("Symbols are not supported yet");case"function":throw new TypeError("Functions are not supported yet");default:throw new TypeError("Unknown type "+typeof e)}var p,s,l}}function s(e){var r=JSON.parse(e),t=[];return r.forEach((function(e){switch(e[0]){case"undefined":t.push(void 0);break;case"null":t.push(null);break;case"bigint":t.push(BigInt(e[1]));break;case"boolean":case"string":t.push(e[1]);break;case"number":t.push(Number(e[1]));break;default:var r,o=u(e[1]),n=!1;switch(e[0]){case"Array":r=new Array;break;case"Date":r=new Date(e[3]);break;case"RegExp":var a=e[3].lastIndexOf("/"),i=e[3].substring(1,a),c=e[3].substring(a+1);r=new RegExp(i,c);break;case"Boolean":r=new Boolean(e[3]);break;case"String":r=new String(e[3]);break;default:r=Object.create(o[0]),n=!0}if(!n&&e[0]!==e[1])if(Object.setPrototypeOf)Object.setPrototypeOf(r,o[0]);else{if(!r.__proto__)throw new TypeError("Could not deserialize RegExp with modified constructor, unsupported by environment");r.__proto__=o[0]}t.push(r)}})),r.forEach((function(e,r){(function(e){return e.length>=3})(e)&&e[2].forEach((function(e){Object.defineProperty(t[r],t[e[0]],{value:t[e[1]],configurable:e[2],enumerable:e[3],writable:e[4]})}))})),t[0]}return r}()}));