/*! god-tier-serializer 0.3.0 | MIT License | https://github.com/jlachniet/god-tier-serializer */
!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.GodTierSerializer=r():e.GodTierSerializer=r()}(this,(function(){return function(){"use strict";var e={913:function(e,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.config=void 0;var n=t(593);r.config={get inferIdentifiers(){return a},get serializePrototypes(){return i},set inferIdentifiers(e){if("boolean"!==(0,n.safeTypeOf)(e))throw new TypeError("config.inferIdentifiers set to invalid value, expected (boolean) but got ("+(0,n.safeTypeOf)(e)+")");a=e},set serializePrototypes(e){if("boolean"!==(0,n.safeTypeOf)(e))throw new TypeError("config.serializePrototypes set to invalid value, expected (boolean) but got ("+(0,n.safeTypeOf)(e)+")");i=e}};var a=!1,i=!1},775:function(e,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.deserialize=void 0;var n=t(360),a=t(593);r.deserialize=function(e){if("string"!==(0,a.safeTypeOf)(e))throw new TypeError("deserialize called with invalid arguments, expected (string) but got ("+(0,a.safeTypeOf)(e)+")");for(var r=JSON.parse(e),t=[],i=0;i<r.length;i++)o(i);function o(e){if(!(Object.getOwnPropertyNames(t).indexOf(String(e))>-1)){var i=r[e];switch(i[0]){case"undefined":t[e];break;case"null":t[e]=null;break;case"boolean":case"string":t[e]=i[1];break;case"number":t[e]=Number(i[1]);break;case"bigint":t[e]=BigInt(i[1]);break;case"reference":t[e]=(0,a.getDefinitionByIdentifier)(i[1])[0];break;default:o(i[1]);switch(i[0]){case"Array":t[e]=new Array;break;case"Int8Array":t[e]=new Int8Array(i[3]);break;case"Uint8Array":t[e]=new Uint8Array(i[3]);break;case"Uint8ClampedArray":t[e]=new Uint8ClampedArray(i[3]);break;case"Int16Array":t[e]=new Int16Array(i[3]);break;case"Uint16Array":t[e]=new Uint16Array(i[3]);break;case"Int32Array":t[e]=new Int32Array(i[3]);break;case"Uint32Array":t[e]=new Uint32Array(i[3]);break;case"Float32Array":t[e]=new Float32Array(i[3]);break;case"Float64Array":t[e]=new Float64Array(i[3]);break;case"BigInt64Array":t[e]=new BigInt64Array(i[3]);break;case"BigUint64Array":t[e]=new BigUint64Array(i[3]);break;case"BigInt":t[e]=new Object(BigInt(i[3]));break;case"Boolean":t[e]=new Boolean(i[3]);break;case"Date":t[e]=new Date(i[3]);break;case"RegExp":var s=i[3].lastIndexOf("/"),c=i[3].substring(1,s),u=i[3].substring(s+1);t[e]=new RegExp(c,u);break;case"String":t[e]=new String(i[3]);break;default:t[e]=Object.create(t[i[1]]),!0}var y=r[i[1]];"reference"===y[0]&&y[1]===i[0]||(0,n.setPrototypeOf)(t[e],t[i[1]])}}}return r.forEach((function(e,r){(0,a.isGTObject)(e)&&e[2].forEach((function(e){Object.defineProperty(t[r],t[e[0]],{value:t[e[1]],configurable:e[2],enumerable:e[3],writable:e[4]})}))})),t[0]}},607:function(e,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.deserialize=r.serialize=r.register=r.config=void 0;var n=t(913);Object.defineProperty(r,"config",{enumerable:!0,get:function(){return n.config}});var a=t(886);Object.defineProperty(r,"register",{enumerable:!0,get:function(){return a.register}});var i=t(485);Object.defineProperty(r,"serialize",{enumerable:!0,get:function(){return i.serialize}});var o=t(775);Object.defineProperty(r,"deserialize",{enumerable:!0,get:function(){return o.deserialize}})},360:function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.setPrototypeOf=r.objectIs=r.arrayFind=void 0,r.arrayFind=function(e,r){for(var t=0;t<e.length;t++)if(r(e[t],t,e))return e[t]},r.objectIs=function(e,r){return e===r?0!==e||1/e==1/r:e!=e&&r!=r},r.setPrototypeOf=function(e,r){if(Object.setPrototypeOf)Object.setPrototypeOf(e,r);else{if(!e.__proto__)throw new Error("Could not set prototype, not supported by environment");e.__proto__=r}}},886:function(e,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.register=r.definitions=void 0;var n=t(607),a=t(593);r.definitions=[[Object.prototype,"Object"],[Array.prototype,"Array"],[BigInt.prototype,"BigInt"],[Boolean.prototype,"Boolean"],[Date.prototype,"Date"],[Int8Array.prototype,"Int8Array"],[Uint8Array.prototype,"Uint8Array"],[Uint8ClampedArray.prototype,"Uint8ClampedArray"],[Int16Array.prototype,"Int16Array"],[Uint16Array.prototype,"Uint16Array"],[Int32Array.prototype,"Int32Array"],[Uint32Array.prototype,"Uint32Array"],[Float32Array.prototype,"Float32Array"],[Float64Array.prototype,"Float64Array"],[BigInt64Array.prototype,"BigInt64Array"],[BigUint64Array.prototype,"BigUint64Array"],[Number.prototype,"Number"],[RegExp.prototype,"RegExp"],[String.prototype,"String"]],r.register=function(e,t){if("object"!==(0,a.safeTypeOf)(e)||"string"!==(0,a.safeTypeOf)(t)&&"undefined"!==(0,a.safeTypeOf)(t))throw new TypeError("register called with invalid arguments, expected (object, string?) but got ("+(0,a.safeTypeOf)(e)+", "+(0,a.safeTypeOf)(t)+")");if(void 0===t){if(!e.constructor||!e.constructor.name)throw new Error("register called without an identifier, and the identifier could not be inferred");if(!n.config.inferIdentifiers)throw new TypeError("register called without an identifier, pass as identifier or set config.inferIdentifiers to true");t=e.constructor.name}if(t="@"+t,(0,a.getDefinitionByObject)(e))throw new Error("register called with an object that is already registered");if((0,a.getDefinitionByIdentifier)(t))throw new Error("register called with an identifier that is already registered");r.definitions.push([e,t])}},485:function(e,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.serialize=void 0;var n=t(913),a=t(593);r.serialize=function(e){var r=[],t=[];return i(e),JSON.stringify(t);function i(e){if((0,a.safeIndexOf)(r,e)>-1)return(0,a.safeIndexOf)(r,e);switch((0,a.safeTypeOf)(e)){case"undefined":return r.push(void 0),t.push(["undefined"]),r.length-1;case"null":return r.push(null),t.push(["null"]),r.length-1;case"boolean":return u=e,r.push(u),t.push(["boolean",u]),r.length-1;case"number":return c=e,r.push(c),t.push(["number",(0,a.numberToString)(c)]),r.length-1;case"string":return s=e,r.push(s),t.push(["string",s]),r.length-1;case"bigint":return o=e,r.push(o),t.push(["bigint",String(o)]),r.length-1;case"object":return function(e){r.push(e);var o=r.length-1,s=(0,a.getDefinitionByObject)(e);if(s)t.push(["reference",s[1]]);else{var c;switch((0,a.objectTypeOf)(e)){case"AsyncFunction":case"AsyncGeneratorFunction":case"Function":case"GeneratorFunction":throw new Error("Could not serialize unregistered function");case"BigInt":c=["BigInt",0,[],String(BigInt.prototype.valueOf.call(e))];break;case"Boolean":c=["Boolean",0,[],Boolean.prototype.valueOf.call(e)];break;case"Date":c=["Date",0,[],Date.prototype.valueOf.call(e)];break;case"Number":c=["Number",0,[],(0,a.numberToString)(Number.prototype.valueOf.call(e))];break;case"RegExp":c=["RegExp",0,[],RegExp.prototype.toString.call(e)];break;case"String":c=["String",0,[],String.prototype.valueOf.call(e)];break;case"Array":c=["Array",0,[]];break;case"Int8Array":c=(0,a.structureTypedArray)(e,Int8Array);break;case"Uint8Array":c=(0,a.structureTypedArray)(e,Uint8Array);break;case"Uint8ClampedArray":c=(0,a.structureTypedArray)(e,Uint8ClampedArray);break;case"Int16Array":c=(0,a.structureTypedArray)(e,Int16Array);break;case"Uint16Array":c=(0,a.structureTypedArray)(e,Uint16Array);break;case"Int32Array":c=(0,a.structureTypedArray)(e,Int32Array);break;case"Uint32Array":c=(0,a.structureTypedArray)(e,Uint32Array);break;case"Float32Array":c=(0,a.structureTypedArray)(e,Float32Array);break;case"Float64Array":c=(0,a.structureTypedArray)(e,Float64Array);break;case"BigInt64Array":c=(0,a.structureTypedArray)(e,BigInt64Array);break;case"BigUint64Array":c=(0,a.structureTypedArray)(e,BigUint64Array);break;default:c=["Object",0,[]]}if(t.push(c),null!==Object.getPrototypeOf(e)&&!(0,a.getDefinitionByObject)(Object.getPrototypeOf(e))&&!n.config.serializePrototypes)throw new Error("Could not serialize value with unregistered prototype, register the prototype or set config.serializePrototypes to true");c[1]=i(Object.getPrototypeOf(e)),Object.getOwnPropertyNames(e).forEach((function(r){var t=Object.getOwnPropertyDescriptor(e,r);c[2].push([i(r),i(t.value),t.configurable,t.enumerable,t.writable])}))}return o}(e);default:throw new TypeError("Failed to serialize value with unknown type "+(0,a.safeTypeOf)(e))}var o,s,c,u}}},593:function(e,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.structureTypedArray=r.numberToString=r.isGTObject=r.getDefinitionByObject=r.getDefinitionByIdentifier=r.objectTypeOf=r.safeTypeOf=r.safeIndexOf=void 0;var n=t(360),a=t(886);r.safeIndexOf=function(e,r){for(var t=0;t<e.length;t++)if((0,n.objectIs)(e[t],r))return t;return-1},r.safeTypeOf=function(e){return null===e?"null":"function"==typeof e?"object":typeof e},r.objectTypeOf=function(e){return Object.prototype.toString.call(e).slice(8,-1)},r.getDefinitionByIdentifier=function(e){return(0,n.arrayFind)(a.definitions,(function(r){return e===r[1]}))},r.getDefinitionByObject=function(e){return(0,n.arrayFind)(a.definitions,(function(r){return e===r[0]}))},r.isGTObject=function(e){return e.length>2},r.numberToString=function(e){return(0,n.objectIs)(e,-0)?"-0":String(e)},r.structureTypedArray=function(e,r){return[r.name,0,[],r.prototype.toString.call(e).split(",").length]}}},r={};var t=function t(n){var a=r[n];if(void 0!==a)return a.exports;var i=r[n]={exports:{}};return e[n](i,i.exports,t),i.exports}(607);return t}()}));